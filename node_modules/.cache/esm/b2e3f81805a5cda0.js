let express,addService,getServices,image,formidable,Services;_05a‍.w("express",[["default",["express"],function(v){express=v}]]);_05a‍.w("../controllers/services",[["addService",["addService"],function(v){addService=v}],["getServices",["getServices"],function(v){getServices=v}],["image",["image"],function(v){image=v}]]);_05a‍.w("express-formidable",[["default",["formidable"],function(v){formidable=v}]]);_05a‍.w("../models/Services",[["default",["Services"],function(v){Services=v}]]);




const router = express.Router();

router.post("/services", formidable(), addService);
router.get("/services", getServices);
router.get("/service/:id", async (req, res) => {
  try {
    const service = await Services.findById(req.params.id).exec();
    res.json(service);
  } catch (err) {
    _05a‍.g.console.log("Error====>", err);
  }
});

router.get("/servicesImage/:id", async (req, res) => {
  try {
    const service = await Services.findById(req.params.id).exec();
    // res.json(service);
    if (service && service.image && service.image.contentType) {
      res.set("Content-Type", service.image.contentType);
      return res.send(service.image.data);
    }
  } catch (err) {
    _05a‍.g.console.log("Server Error ==> ", err);
  }
});

module.exports = router;
